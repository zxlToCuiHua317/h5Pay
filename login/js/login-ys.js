"use strict";!function(e,a){function n(e){n.prototype.config={gameCode:null,siteCode:null,isIPGame:null,packageName:null,language:null,os:null},n.prototype.FBID=0,n.prototype.accessToken=0,n.prototype.FBName="",n.prototype.timer=null,n.prototype.sendData,Object.assign(n.prototype.config,e),localStorage.setItem("config",JSON.stringify(n.prototype.config))}n.prototype={constructor:n,init:function(e){null===JSON.parse(localStorage.getItem(getfbLoginData_c))&&localStorage.setItem(getfbLoginData_c,"[]"),null===JSON.parse(localStorage.getItem(getptLoginData_c))&&localStorage.setItem(getptLoginData_c,"[]"),null===JSON.parse(localStorage.getItem(gettryLoginData_c))&&localStorage.setItem(gettryLoginData_c,"[]");ch=GetQueryString("code"),ch&&n.prototype._getMakeLogin(e),this.creatNode(e)},creatNode:function(e){var o=a.createElement("div");o.classList.add("main"),o.innerHTML='\n            <div class="automatic_login_ns">\n            <div class="login_logo_ns">\n                <img src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/back.png" class="back_ns">\n            </div>\n            <div class="login_inp_ns">\n                <div class="select_use">\n                    <span class="sel-img iconfont"></span>\n                    <span class="sel-title"></span>\n                    <span class="sel-down iconfont icon-xiala"></span>\n                    <span class="sel-up iconfont icon-xiala"></span>\n                </div>\n                <div class="down_list">\n                    <ul></ul>\n                </div>\n                <input type="button" name="" id="enter_game_ns" value="" />\n                <div class="select_title_ns">\n                    <div class="dashed_line"></div>\n                    <div class="handle_head_title"></div>\n                </div>\n                <ul class="handle_icon clearfix">\n                    <li>\n                        <div class="handle handle1">\n                            <a class="fbLogin">\n                                <img src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/Facebook.png">\n                            </a>\n                        </div>\n                        <p class="handle_icon_facebook"></p>\n                    </li>\n                   \n                    <li style="float: right;">\n                        <div class="handle handle3">\n                            <i class="iconfont icon-people"></i>\n                        </div>\n                        <p class="handle_icon_pt"></p>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="login_inp">\n            <div class="login_logo_inp">\n                <img src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/back.png" class="back_ns">\n            </div>\n            <div class="login_dl_ns">\n                <div class="login_acnum_ns">\n                    <i class="iconfont icon-people"></i>\n                    <input type="text" id="login_username_ns" placeholder="" class="login_username_ns">\n                    <label for="login_username_ns" class="clear_ns"><img\n                            src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/close.png"></label>\n                </div>\n                <div class="login_acnum_ns">\n                    <i class="iconfont icon-shurumima"></i>\n                    <input type="password" id="login_userpassword_ns" placeholder="" class="login_username_ns">\n                    <label for="login_userpassword_ns" class="show_ns"><img\n                            src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/ear_blue.png"></label>\n                </div>\n                <div class="forget_password_ns">\n                    <span class=""></span>\n                </div>\n                <input type="button" value="로그인" class="login_button_ns">\n                <p class="p_span">\n                    <span class="click_registered_ns"></span>\n                    <span class="account_management_ns"></span>\n                </p>\n            </div>\n        </div>\n        <div class="forget_password">\n            <div class="login_logo_forget">\n                <img src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/back.png" class="back_ns">\n            </div>\n            <div class="forget_password_ns">\n                <div class="login_acnum_ns ">\n                    <i class="iconfont icon-people"></i>\n                    <input type="text" id="retrieve_username_ns" placeholder="" class="login_username_ns">\n                    <label for="retrieve_username_ns" class="clear_ns"><img\n                            src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/close.png"></label>\n                </div>\n                <div class="login_acnum_ns">\n                    <i class="iconfont icon-tubiao209"></i>\n                    <input type="text" id="retrieve_email_ns" placeholder="" class="login_username_ns">\n                    <label for="retrieve_email_ns" class="clear_ns"><img\n                            src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/close.png"></label>\n                </div>\n                <input type="button" value="" class="retrieve_password_ns">\n            </div>\n        </div>\n        <div class="login_zc">\n            <div class="login_logo_zc">\n                <img src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/back.png" class="back_ns">\n            </div>\n            <div class="login_zc_ns">\n                <div class="login-sub">\n                    <div class="login_acnum_ns ">\n                        <i class="iconfont icon-people"></i>\n                        <input type="text" id="registered_username_ns" placeholder="" class="login_username_ns">\n                        <label for="registered_username_ns" class="clear_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/close.png"></label>\n                    </div>\n                    <div class="login_acnum_ns">\n                        <i class="iconfont icon-shurumima"></i>\n                        <input type="password" id="registered_userpassword_ns" placeholder="" class="login_username_ns">\n                        <label for="registered_userpassword_ns" class="show_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/ear_blue.png"></label>\n                    </div>\n                    <div class="login_acnum_ns">\n                        <i class="iconfont icon-shurumima"></i>\n                        <input type="password" id="registered_repeatpassword_ns" placeholder=""\n                            class="login_username_ns">\n                        <label for="registered_repeatpassword_ns" class="show_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/ear_blue.png"></label>\n                    </div>\n                    <div class="login_acnum_ns">\n                        <i class="iconfont icon-tubiao209"></i>\n                        <input type="text" id="registered_email_ns" placeholder="" class="login_username_ns">\n                        <label for="registered_email_ns" class="clear_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/close.png"></label>\n                    </div>\n                </div>\n                <div class="user_agree_ns">\n                    <input type="radio" value="1" id="agree_ns" checked="checked" hidden="hidden">\n                    <label for="agree_ns" class="advice_nsw checked"></label>\n                    <span class="user_agree_rule"></span>\n                    <span class="toRule" style="color: aquamarine;"></span>\n                </div>\n                <input type="button" value="" class="registered_button_ns">\n            </div>\n\n        </div>\n        <div class="account_management">\n            <div class="login_logo_account">\n                <img src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/back.png" class="back_ns">\n            </div>\n            <div class="login_way_ns">\n                <div class="account1_ns"></div>\n                <div class="account3_ns"></div>\n            </div>\n        </div>\n        <div class="account_changePass">\n            <div class="login_logo_changePass">\n                <img src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/back.png" class="back_ns">\n            </div>\n            <div class="account_changePass_ns">\n                <div class="login-sub">\n                    <div class="login_acnum_ns ">\n                        <i class="iconfont icon-people"></i>\n                        <input type="text" id="changePass_phone_ns" placeholder="" class="login_username_ns">\n                        <label for="registered_username_ns" class="clear_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/close.png"></label>\n                    </div>\n                    <div class="login_acnum_ns">\n                        <i class="iconfont icon-shurumima"></i>\n                        <input type="text" id="changePass_userpassword_ns" placeholder="" class="login_username_ns">\n                        <label for="registered_userpassword_ns" class="clear_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/close.png"></label>\n                    </div>\n                    <div class="login_acnum_ns">\n                        <i class="iconfont icon-shurumima"></i>\n                        <input type="password" id="changePass_newpassword_ns" placeholder="" class="login_username_ns">\n                        <label for="registered_repeatpassword_ns" class="show_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/ear_blue.png"></label>\n                    </div>\n                    <div class="login_acnum_ns">\n                        <i class="iconfont icon-tubiao209"></i>\n                        <input type="password" id="changePass_repeatpassword_ns" placeholder=""\n                            class="login_username_ns">\n                        <label for="registered_email_ns" class="show_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/ear_blue.png"></label>\n                    </div>\n                </div>\n                <input type="button" value="" class="changePass_button_ns">\n            </div>\n        </div>\n        <div class="account_play">\n            <div class="login_logo_play">\n                <img src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/back.png" class="back_ns">\n            </div>\n            <div class="account_play_ns">\n                <div class="login-sub">\n                    <div class="login_acnum_ns ">\n                        <i class="iconfont icon-people"></i>\n                        <input type="text" id="play_username_ns" placeholder="" class="login_username_ns">\n                        <label for="registered_username_ns" class="clear_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/close.png"></label>\n                    </div>\n                    <div class="login_acnum_ns">\n                        <i class="iconfont icon-shurumima"></i>\n                        <input type="password" id="play_userpassword_ns" placeholder="" class="login_username_ns">\n                        <label for="registered_userpassword_ns" class="show_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/ear_blue.png"></label>\n                    </div>\n                    <div class="login_acnum_ns">\n                        <i class="iconfont icon-shurumima"></i>\n                        <input type="password" id="play_repeatpassword_ns" placeholder="" class="login_username_ns">\n                        <label for="registered_repeatpassword_ns" class="show_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/ear_blue.png"></label>\n                    </div>\n                    <div class="login_acnum_ns">\n                        <i class="iconfont icon-tubiao209"></i>\n                        <input type="text" id="play_email_ns" placeholder="" class="login_username_ns">\n                        <label for="registered_email_ns" class="clear_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/close.png"></label>\n                    </div>\n                </div>\n                <input type="button" value="" class="play_button_ns">\n            </div>\n        </div>\n        <div class="account_fb">\n            <div class="login_logo_fb">\n                <img src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/back.png" class="back_ns">\n            </div>\n            <div class="account_fb_ns">\n                <div class="login-sub">\n                    <div class="login_acnum_ns ">\n                        <i class="iconfont icon-people"></i>\n                        <input type="text" id="fb_username_ns" placeholder="" class="login_username_ns">\n                        <label for="registered_username_ns" class="clear_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/close.png"></label>\n                    </div>\n                    <div class="login_acnum_ns">\n                        <i class="iconfont icon-shurumima"></i>\n                        <input type="password" id="fb_userpassword_ns" placeholder="" class="login_username_ns">\n                        <label for="registered_userpassword_ns" class="show_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/ear_blue.png"></label>\n                    </div>\n                    <div class="login_acnum_ns">\n                        <i class="iconfont icon-shurumima"></i>\n                        <input type="password" id="fb_repeatpassword_ns" placeholder="" class="login_username_ns">\n                        <label for="registered_repeatpassword_ns" class="show_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/ear_blue.png"></label>\n                    </div>\n                    <div class="login_acnum_ns">\n                        <i class="iconfont icon-tubiao209"></i>\n                        <input type="text" id="fb_email_ns" placeholder="" class="login_username_ns">\n                        <label for="registered_email_ns" class="clear_ns"><img\n                                src="//awscdnfsstwone.1jqmk9f.com/gc_file/webLogin/login/img/close.png"></label>\n                    </div>\n                </div>\n                <input type="button" value="" class="fb_button_ns">\n            </div>\n        </div>\n        <div class="bg">\n            <div class="close"></div>\n            <div class="tip"></div>\n            <div class="content">\n                <div class="left-conten">\n                </div>\n                <div class="right-content">\n                </div>\n            </div>\n            <div class="raido">\n                <div class="left-btn"></div>\n                <div class="right-btn">同意</div>\n                <div class="left-raido"></div>\n                <div class="right-raido"></div>\n            </div>\n            <div class="arrbtn"></div>\n        </div>\n        <div class="quitLogion">\n            <div class="login_Title">\n                <span class="title_name"></span>\n                <span class="title_loding"></span>\n            </div>\n            <div class="quit_btn"></div>\n        </div>\n        <div class="showad"></div>\n        <div class="loading"></div>\n            ',a.body.appendChild(o)[2],this.userLogin(n.prototype.config.language),this.handleClick(e),this.EventClick(e),this._automaticLogin(e)},handleClick:function(a){function o(e){$(e).prev().val("")}function t(e){var a=$(e).prev(),n=a.val(),o=$(e).children();"password"==a.attr("type")?(a.attr("type","text"),o.attr("src","//awscdnflzfzbone.icbem53.com/gc_file/webLogin/login/img/ear.png")):(a.attr("type","password"),o.attr("src","//awscdnflzfzbone.icbem53.com/gc_file/webLogin/login/img/ear_blue.png")),a.val(n)}$(".start_game").click(function(){$(".automatic_login_ns").show(),$(".start_bg").hide(),n.prototype._automaticLogin(a)}),$(".handle3").click(function(){$(".automatic_login_ns").hide(),$(".login_inp").show()}),$(".login_logo_inp .back_ns").click(function(){$(".automatic_login_ns").show(),$(".login_inp").hide()}),$(".forget_password_ns").click(function(){$(".forget_password").show(),$(".login_inp").hide()}),$(".login_logo_forget .back_ns").click(function(){$(".forget_password").hide(),$(".login_inp").show()}),$(".click_registered_ns").click(function(){$(".login_inp").hide(),$(".login_zc").show()}),$(".login_logo_zc .back_ns").click(function(){$(".login_zc").hide(),$(".login_inp").show()}),$(".account_management_ns").click(function(){$(".login_inp").hide(),$(".account_management").show()}),$(".login_logo_account .back_ns").click(function(){$(".login_inp").show(),$(".account_management").hide()}),$(".login_logo_changePass .back_ns").click(function(){$(".account_changePass").hide(),$(".account_management").show()}),$(".login_logo_play .back_ns").click(function(){$(".account_play").hide(),$(".account_management").show()}),$(".login_logo_fb .back_ns").click(function(){$(".account_fb").hide(),$(".account_management").show()}),$(".account1_ns").click(function(){$(".account_management").hide(),$(".account_changePass").show()}),$(".account2_ns").click(function(){$(".account_management").hide(),$(".account_play").show()}),$(".account3_ns").click(function(){$(".account_management").hide(),$(".account_fb").show()}),$(".sel-down").click(function(){$(".down_list").fadeIn(500),$(".sel-down").hide(),$(".sel-up").show()}),$(".sel-up").click(function(){$(".down_list").fadeOut(500),$(".sel-down").show(),$(".sel-up").hide()}),$(".login_username_ns").on("focus keyup",function(){var e=$(this).val();""!=e?$(this).next().show():""==e&&$(this).next().hide()}),$(".clear_ns").click(function(){o(this)}),$(".show_ns").click(function(){t(this)}),$(".item").click(function(){$(".down_list").hide(),$(".sel-down").show(),$(".sel-up").hide()}),$(".quit_btn").click(function(){$(".quitLogion").hide(),$(".loading").hide(),$(".showad").hide(),console.log(n.prototype.timer),clearTimeout(n.prototype.timer)});var s=JSON.parse(localStorage.getItem("fbLoginData")),i=JSON.parse(localStorage.getItem("ptLoginData")),l=JSON.parse(localStorage.getItem("tryLoginData"));if(console.log(l),0===s.length&&0===i.length&&0===l.length)$(".down_list").hide();else if(s&&i&&l){console.log("三个数组都有");var c=[].concat(n.prototype._toConsumableArray(i),n.prototype._toConsumableArray(s),n.prototype._toConsumableArray(l));c.sort(compare("time")),console.log(c),$(".sel-title").text(c[c.length-1].name),$(".sel-img").addClass(c[c.length-1].icon);for(var g="",r=0;r<c.length;r++){var p=r;g+=' <li class="item'+p+'">\n                        <span class="item-img iconfont '+c[p].icon+'"></span>\n                        <span class="item-title">'+c[p].name+'</span>\n                        <span class="item-down iconfont icon-shanchu"></span>\n               </li>'}$(".down_list ul").html(g)}JSON.parse(localStorage.getItem("gameData"));$("ul").on("click",".item-down",function(){var a=$(this).parent().index();if(console.log(c),"fb"===c[a].type){if(e.confirm("是否要刪除該賬號記錄")){console.log(s[a]);var o=s.indexOf(c[a]);s.splice(o,1),localStorage.setItem("fbLoginData",JSON.stringify(s)),localStorage.removeItem("FbLogin"),0===s.length&&(s=[],i.length>0&&l.length>0?(console.log(i),c=[].concat(n.prototype._toConsumableArray(i),n.prototype._toConsumableArray(l)),g="",$(".sel-title").text(i[0].name),$(".sel-img").removeClass("icon-Facebook").addClass(i[0].icon),c.forEach(function(e,a){console.log(e),g+=' <li class="item'+a+'">\n                                        <span class="item-img iconfont '+e.icon+'"></span>\n                                        <span class="item-title">'+e.name+'</span>\n                                        <span class="item-down iconfont icon-shanchu"></span>\n                            </li>'}),$(".down_list ul").html(g)):i.length>0&&0===l.length?(console.log(i),c=[].concat(n.prototype._toConsumableArray(i)),g="",$(".sel-title").text(i[0].name),$(".sel-img").removeClass("icon-Facebook").addClass(i[0].icon),c.forEach(function(e,a){console.log(e),g+=' <li class="item'+a+'">\n                                        <span class="item-img iconfont '+e.icon+'"></span>\n                                        <span class="item-title">'+e.name+'</span>\n                                        <span class="item-down iconfont icon-shanchu"></span>\n                            </li>'}),$(".down_list ul").html(g)):0===i.length&&l.length>0?(console.log(i),c=[].concat(n.prototype._toConsumableArray(l)),g="",$(".sel-title").text(l[0].name),$(".sel-img").removeClass("icon-Facebook").addClass(l[0].icon),c.forEach(function(e,a){console.log(e),g+=' <li class="item'+a+'">\n                                        <span class="item-img iconfont '+e.icon+'"></span>\n                                        <span class="item-title">'+e.name+'</span>\n                                        <span class="item-down iconfont icon-shanchu"></span>\n                            </li>'}),$(".down_list ul").html(g)):($(".down_list ul").html(""),$(".sel-title").text(""),$(".sel-img").removeClass("icon-Facebook"))),$(".down_list").hide(),$(".sel-up").hide(),$(".sel-down").show()}}else if("pt"===c[a].type){if(e.confirm("是否要刪除該賬號記錄")){console.log(c[a]);var t=i.indexOf(c[a]);i.splice(t,1),localStorage.setItem("ptLoginData",JSON.stringify(i)),console.log(c),console.log(i),0===i.length?(i=[],console.log(s),g="",s.length>0&&l.length>0?(c=[].concat(n.prototype._toConsumableArray(s),n.prototype._toConsumableArray(l)),$(".sel-title").text(c[0].name),$(".sel-img").removeClass("icon-people").addClass(c[0].icon),c.forEach(function(e,a){console.log(e),g+=' <li class="item'+a+'">\n                                        <span class="item-img iconfont '+e.icon+'"></span>\n                                        <span class="item-title">'+e.name+'</span>\n                                        <span class="item-down iconfont icon-shanchu"></span>\n                            </li>'}),$(".down_list ul").html(g)):s.length>0&&0===l.length?(c=[].concat(n.prototype._toConsumableArray(s),n.prototype._toConsumableArray(l)),$(".sel-title").text(c[0].name),$(".sel-img").removeClass("icon-people").addClass(c[0].icon),g="",g+=' <li class="item'+a+'">\n                                        <span class="item-img iconfont '+c[0].icon+'"></span>\n                                        <span class="item-title">'+c[0].name+'</span>\n                                        <span class="item-down iconfont icon-shanchu"></span>\n                            </li>',$(".down_list ul").html(g)):0===s.length&&l.length>0?(c=[].concat(n.prototype._toConsumableArray(s),n.prototype._toConsumableArray(l)),$(".sel-title").text(c[0].name),$(".sel-img").removeClass("icon-people").addClass(c[0].icon),g="",g+=' <li class="item'+a+'">\n                                        <span class="item-img iconfont '+c[0].icon+'"></span>\n                                        <span class="item-title">'+c[0].name+'</span>\n                                        <span class="item-down iconfont icon-shanchu"></span>\n                            </li>',$(".down_list ul").html(g)):($(".down_list ul").html(""),$(".sel-title").text(""),$(".sel-img").removeClass("icon-people"))):(console.log("1"),s.length>0&&i&&l.length>0?(g="",c=[].concat(n.prototype._toConsumableArray(i),n.prototype._toConsumableArray(s),n.prototype._toConsumableArray(l)),$(".sel-title").text(c[0].name),$(".sel-img").removeClass("icon-people").addClass(c[0].icon),c.forEach(function(e,a){g+=' <li class="item'+a+'">\n                                    <span class="item-img iconfont '+e.icon+'"></span>\n                                    <span class="item-title">'+e.name+'</span>\n                                    <span class="item-down iconfont icon-shanchu"></span>\n                                </li>'}),$(".down_list ul").html(g)):0===s.length&&i&&l.length>0?(g="",c=[].concat(n.prototype._toConsumableArray(i),n.prototype._toConsumableArray(l)),$(".sel-title").text(c[0].name),$(".sel-img").removeClass("icon-people").addClass(c[0].icon),c.forEach(function(e,a){g+=' <li class="item'+a+'">\n                                    <span class="item-img iconfont '+e.icon+'"></span>\n                                    <span class="item-title">'+e.name+'</span>\n                                    <span class="item-down iconfont icon-shanchu"></span>\n                                </li>'}),$(".down_list ul").html(g)):s.length>0&&i&&0===l.length?(g="",c=[].concat(n.prototype._toConsumableArray(i),n.prototype._toConsumableArray(s)),$(".sel-title").text(c[0].name),$(".sel-img").removeClass("icon-people").addClass(c[0].icon),c.forEach(function(e,a){g+=' <li class="item'+a+'">\n                                    <span class="item-img iconfont '+e.icon+'"></span>\n                                    <span class="item-title">'+e.name+'</span>\n                                    <span class="item-down iconfont icon-shanchu"></span>\n                                </li>'}),$(".down_list ul").html(g)):0===s.length&&i&&0===l.length&&(console.log("2"),g="",c=[].concat(n.prototype._toConsumableArray(i)),$(".sel-title").text(c[0].name),$(".sel-img").removeClass("icon-people").addClass(c[0].icon),c.forEach(function(e,a){console.log(a),g+=' <li class="item'+a+'">\n                                    <span class="item-img iconfont '+e.icon+'"></span>\n                                    <span class="item-title">'+e.name+'</span>\n                                    <span class="item-down iconfont icon-shanchu"></span>\n                                  </li>'}),$(".down_list ul").html(g))),$(".down_list").hide(),$(".sel-up").hide(),$(".sel-down").show()}}else if("player"===c[a].type&&e.confirm("是否要刪除該賬號記錄")){console.log(l[a]);var r=l.indexOf(c[a]);l.splice(r,1),localStorage.setItem("tryLoginData",JSON.stringify(l)),localStorage.removeItem("FirstLogin"),0===l.length&&(l=[],i.length>0&&s.length>0?(console.log(i),c=[].concat(n.prototype._toConsumableArray(i),n.prototype._toConsumableArray(s)),g="",$(".sel-title").text(i[0].name),$(".sel-img").removeClass("icon-people").addClass(i[0].icon),c.forEach(function(e,a){console.log(e),g+=' <li class="item'+a+'">\n                                        <span class="item-img iconfont '+e.icon+'"></span>\n                                        <span class="item-title">'+e.name+'</span>\n                                        <span class="item-down iconfont icon-shanchu"></span>\n                            </li>'}),$(".down_list ul").html(g)):i.length>0&&0===s.length?(console.log(i),c=[].concat(n.prototype._toConsumableArray(i)),g="",$(".sel-title").text(i[0].name),$(".sel-img").removeClass("icon-people").addClass(i[0].icon),c.forEach(function(e,a){console.log(e),g+=' <li class="item'+a+'">\n                                        <span class="item-img iconfont '+e.icon+'"></span>\n                                        <span class="item-title">'+e.name+'</span>\n                                        <span class="item-down iconfont icon-shanchu"></span>\n                            </li>'}),$(".down_list ul").html(g)):0===i.length&&s.length>0?(console.log(i),c=[].concat(n.prototype._toConsumableArray(s)),g="",$(".sel-title").text(s[0].name),$(".sel-img").removeClass("icon-people").addClass(s[0].icon),c.forEach(function(e,a){console.log(e),g+=' <li class="item'+a+'">\n                                        <span class="item-img iconfont '+e.icon+'"></span>\n                                        <span class="item-title">'+e.name+'</span>\n                                        <span class="item-down iconfont icon-shanchu"></span>\n                            </li>'}),$(".down_list ul").html(g)):($(".down_list ul").html(""),$(".sel-title").text(""),$(".sel-img").removeClass("icon-94"))),$(".down_list").hide(),$(".sel-up").hide(),$(".sel-down").show()}}),$("ul").on("click",".item-title",function(){var e=$(this).parent().index();"fb"===c[e].type?($(".sel-title").text(c[e].name),$(".sel-img").removeClass("icon-people icon-94").addClass(c[e].icon),$(".down_list").hide(),$(".sel-up").hide(),$(".sel-down").show()):"pt"===c[e].type?($(".sel-title").text(c[e].name),$(".sel-img").removeClass("icon-Facebook icon-94").addClass(c[e].icon),$(".down_list").hide(),$(".sel-up").hide(),$(".sel-down").show()):"player"===c[e].type&&($(".sel-title").text(c[e].name),$(".sel-img").removeClass("icon-Facebook icon-people").addClass(c[e].icon),$(".down_list").hide(),$(".sel-up").hide(),$(".sel-down").show())}),$("#enter_game_ns").click(function(){var e=$(".sel-title").text();if(console.log(e),console.log(isClick),isClick)for(var o=0;o<c.length;o++)!function(o){var t=o;"pt"===c[t].type?c[t].name===e&&$.ajax({url:Api.userLogin_api,type:"POST",data:{username:c[t].name,password:c[t].password,siteCode:"lunplay",t:"1378215459501",ck:"ba9d42a6a82e7cea623fa47bf1acc66f",ismobile:"yes",language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show(),isClick=!1},success:function(e){$(".loading").hide(),$(".showad").hide(),afterClick(),"1000"===e.code?(sessionID=e.sessionID,$.ajax({type:"POST",url:Api.userMobileAuth_api,data:{sitecode:n.prototype.config.siteCode,type:e.type,os:n.prototype.config.os,SessionID_LP:e.sessionID,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,packageVersion:n.prototype.config.packageVersion},dataType:"jsonp",success:function(e){console.log(t),console.log(c[t]);var o=(new Date).getTime();c[t].time=o,i.forEach(function(e,a){e.name===c[t].name&&(e=c[t])}),localStorage.setItem("ptLoginData",JSON.stringify(i)),localStorage.setItem("callbackData",JSON.stringify(e)),$(".main").remove(),a(e),n.prototype._sendPx(e.toGameInfo.passport)}})):alert(e.msg)}}):"fb"===c[t].type?c[t].name===e&&$.ajax({url:Api.fbuserLoginForMobile_api,type:"POST",data:{access_token:c[t].accessToken,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os,appid:appid,tag:"website"},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show()},success:function(e){$(".loading").hide(),$(".showad").hide(),$(".quitLogion").hide(),"6004"==e.code?$.ajax({url:Api.userPartnerLogin_api,type:"POST",data:{siteUsername:e.siteUsername,sitecode:e.sitecode,password:e.password,time:e.time,email:e.email,fbname:e.fbname,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os},dataType:"jsonp",jsonp:"callback",success:function(e){"1400"==e.code?(sessionID=e.sessionID,$.ajax({type:"POST",url:Api.userMobileAuth_api,data:{sitecode:n.prototype.config.siteCode,type:e.type,os:n.prototype.config.os,SessionID_LP:e.sessionID,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,packageVersion:""},dataType:"jsonp",success:function(e){console.log(e);var o=(new Date).getTime();c[t].time=o,localStorage.setItem("fbLoginData",JSON.stringify([c[t]])),sendData=JSON.stringify(e),localStorage.setItem("callbackData",JSON.stringify(e)),$(".main").remove(),a(e),n.prototype._sendPx(e.toGameInfo.passport)}})):alert(e.msg)},error:function(){}}):alert(e.msg)},error:function(){}}):"Player"===c[t].typename&&c[t].name===e&&$.ajax({type:"POST",url:Api.userFastLogin_api,data:{isFirst:"no",id:c[t].id,siteCode:c[t].siteCode,t:c[t].t,ps:c[t].ps,imeiNum:generateUUID(),xuhaoNum:generateUUID(),language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show(),isClick=!1},success:function(e){console.log(e),$(".loading").show(),$(".showad").show(),afterClick(),"1400"===e.code&&(sessionID=e.sessionID,$.ajax({type:"POST",url:Api.userMobileAuth_api,data:{sitecode:n.prototype.config.siteCode,type:e.type,os:n.prototype.config.os,SessionID_LP:e.sessionID,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,packageVersion:""},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show()},success:function(e){$(".loading").hide(),$(".showad").hide();var a=(new Date).getTime();c[t].time=a,localStorage.setItem("tryLoginData",JSON.stringify([c[t]])),localStorage.setItem("callbackData",JSON.stringify(e))}}))}})}(o)}),$(".toRule").click(function(){$(".bg").hide()})},EventClick:function(a){$(".login_button_ns").click(function(){isClick&&n.prototype._login_mobile(a)}),$(".retrieve_password_ns").click(function(){isClick&&n.prototype._forgetPassWord()}),$(".registered_button_ns").click(function(){isClick&&n.prototype._userRegister()}),$(".changePass_button_ns").click(function(){isClick&&n.prototype._userChangePassword()}),$(".fb_button_ns").click(function(){isClick&&n.prototype._userUpgradeAccount()}),$(".play_button_ns").click(function(){isClick&&n.prototype._tryUpgradeAccount()}),$(".handle2").click(function(){isClick&&n.prototype._userTryToGame()}),$(".fbLogin").click(function(){if(isClick)if(isFbLogin=localStorage.getItem("FbLogin"),null===isFbLogin)e.location.replace("https://www.facebook.com/v5.0/dialog/oauth?client_id="+appid+"&redirect_uri="+redirect_url+"&state=10fc2285672a76a9d2d369c35d252dbf&scope=public_profile");else if(null!=isFbLogin&&isFbLogin>0){var a=JSON.parse(localStorage.getItem(getfbLoginData_c));n.prototype._getLogin(a[0].accessToken)}})},_login_mobile:function(e){var a=$("#login_username_ns").val(),o=$("#login_userpassword_ns").val();return a=formatting.StrTrim(a),a=formatting.filterHTML(a),o=formatting.StrTrim(o),formatting.isEmptyString(a)?void Check.check_login_username():formatting.isEmptyString(o)?void Check.check_login_password():!formatting.isNumAndChar(a)||a.length<3||a.length>32?void Check.check_login_checkaccount():o.length<6||o.length>20?void Check.check_login_checkapassword():(console.log(this.config),console.log(n.prototype.config),new Promise(function(t,s){$.ajax({url:Api.userLogin_api,type:"POST",data:{username:a,password:o,siteCode:"lunplay",t:"1378215459501",ck:"ba9d42a6a82e7cea623fa47bf1acc66f",ismobile:"yes",language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName},dataType:"jsonp",beforeSend:function(e){isClick=!1,$(".loading").show(),$(".showad").show()},success:function(i){if(afterClick(),$(".loading").hide(),$(".showad").hide(),console.log(i),"1000"===i.code){var l=(new Date).getTime();ptData={name:a,password:o,type:"pt",icon:"icon-people",time:l},ptLoginData=JSON.parse(localStorage.getItem("ptLoginData")),Array.isArray(ptLoginData)&&0===ptLoginData.length?ptLoginData.push(ptData):(console.log("1"),ptLoginData.forEach(function(e,a){ptLoginData.push(ptData);var n={};ptLoginData=ptLoginData.reduce(function(e,a){return n[a.name]||(n[a.name]=e.push(a)),e},[])})),localStorage.setItem(getptLoginData_c,JSON.stringify(ptLoginData)||"[]"),sessionID=i.sessionID,$.ajax({type:"POST",url:Api.userMobileAuth_api,data:{sitecode:n.prototype.config.siteCode,type:i.type,os:n.prototype.config.os,SessionID_LP:i.sessionID,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,packageVersion:""},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show()},success:function(a){$(".loading").hide(),$(".showad").hide(),console.log(a),sendData=JSON.stringify(a),t(sendData),$(".main").remove(),localStorage.setItem("callbackData",JSON.stringify(a)),e(a),n.prototype._sendPx(a.toGameInfo.passport)}})}else s(i.msg)}})}))},_forgetPassWord:function(){var e=$("#retrieve_username_ns").val(),a=$("#retrieve_email_ns").val();e=formatting.StrTrim(e),e=formatting.filterHTML(e),e&&a?$.ajax({type:"POST",url:Api.getPasswdStep1_api,data:{username:e,email:a,isIPGame:n.prototype.config.isIPGame,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os},dataType:"jsonp",beforeSend:function(e){isClick=!1,$(".loading").show(),$(".showad").show()},success:function(e){$(".loading").hide(),$(".showad").hide(),afterClick(),console.log(e),e.code,alert(e.msg)}}):Check.check_login_username()},_userRegister:function(e){var a=$("#registered_username_ns").val(),o=$("#registered_userpassword_ns").val(),t=$("#registered_repeatpassword_ns").val(),s=$("#registered_email_ns").val();a&&o&&t&&s?$.ajax({type:"POST",url:Api.userRegister_api,data:{username:a,password:o,repassword:t,email:s,os:n.prototype.config.os,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName},dataType:"jsonp",beforeSend:function(e){isClick=!1,$(".loading").show(),$(".showad").show()},success:function(t){if(afterClick(),$(".loading").hide(),$(".showad").hide(),console.log(t),"1100"===t.code){var s=(new Date).getTime();ptData={name:a,password:o,typename:"회원 로그인",type:"pt",icon:"icon-people",time:s},ptLoginData.push(ptData),localStorage.setItem(getptLoginData_c,JSON.stringify(ptLoginData)),$.ajax({type:"POST",url:Api.userMobileAuth_api,data:{sitecode:n.prototype.config.siteCode,type:t.type,os:n.prototype.config.os,SessionID_LP:t.sessionID,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,packageVersion:""},dataType:"jsonp",beforeSend:function(e){$(".showad").show(),$(".loading").show()},success:function(a){$(".showad").hide(),$(".loading").hide(),console.log(a),$(".main").remove(),localStorage.setItem("callbackData",JSON.stringify(a)),e(a),n.prototype._sendPx(a.toGameInfo.passport)}})}else alert(t.msg)}}):Check.check_login_username()},_userTryToGame:function(){isFirstLogin=localStorage.getItem("FirstLogin"),null===isFirstLogin?(console.log("---------\x3e翠花"),$.ajax({type:"POST",url:Api.userFastLogin_api,data:{isFirst:"yes",imeiNum:generateUUID(),xuhaoNum:generateUUID(),language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os},dataType:"jsonp",beforeSend:function(e){isClick=!1,console.log(isClick),$(".loading").show(),$(".showad").show()},success:function(e){if(afterClick(),$(".loading").hide(),$(".showad").hide(),console.log(e),"1400"===e.code){var a={id:e.id,siteCode:e.siteCode,t:e.t,ps:e.ps};sessionID=e.sessionID,localStorage.setItem("tryToGameData",JSON.stringify(a)),isFirstLogin=1,localStorage.setItem("FirstLogin",isFirstLogin);var o=(new Date).getTime();trydata={name:e.id,id:e.id,type:"player",icon:"icon-94",siteCode:e.siteCode,t:e.t,ps:e.ps,typename:"Player",time:o},tryLoginData.push(trydata),localStorage.setItem(gettryLoginData_c,JSON.stringify(tryLoginData)||"[]"),$.ajax({type:"POST",url:Api.userMobileAuth_api,data:{siteCode:n.prototype.config.siteCode,type:e.type,os:n.prototype.config.os,SessionID_LP:e.sessionID,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,packageVersion:""},dataType:"jsonp",success:function(e){console.log(e),sendData=JSON.stringify(e)}})}}})):null!=isFirstLogin&&isFirstLogin>0&&(tryToGameData=JSON.parse(localStorage.getItem("tryToGameData")),console.log(tryToGameData),$.ajax({type:"POST",url:Api.userFastLogin_api,data:{isFirst:"no",id:tryToGameData.id,siteCode:tryToGameData.siteCode,t:tryToGameData.t,ps:tryToGameData.ps,imeiNum:generateUUID(),xuhaoNum:generateUUID(),language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os},dataType:"jsonp",beforeSend:function(e){isClick=!1,console.log(isClick),$(".loading").show(),$(".showad").show()},success:function(e){console.log(e),$(".loading").hide(),$(".showad").hide(),afterClick(),console.log(isClick),"1400"===e.code&&(tryToGameData={id:e.id,siteCode:e.siteCode,t:e.t,ps:e.ps},sessionID=e.sessionID,localStorage.setItem("tryToGameData",JSON.stringify(tryToGameData)),$.ajax({type:"POST",url:Api.userMobileAuth_api,data:{sitecode:n.prototype.config.sitecode,type:e.type,os:n.prototype.config.os,SessionID_LP:e.sessionID,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,packageVersion:""},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show()},success:function(e){$(".loading").hide(),$(".showad").hide(),console.log(e),sendData=JSON.stringify(e)}}))}}))},_userChangePassword:function(){var e=$("#changePass_phone_ns").val(),a=$("#changePass_userpassword_ns").val(),o=$("#changePass_newpassword_ns").val(),t=$("#changePass_repeatpassword_ns").val();e&&a&&o&&t?$.ajax({type:"POST",url:Api.userChangePassword_api,data:{password:a,newpassword:o,renewpassword:t,username:e,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show(),isClick=!1},success:function(e){$(".loading").hide(),$(".showad").hide(),afterClick(),console.log(e),e.code,alert(e.msg)}}):Check.check_login_username()},_userUpgradeAccount:function(e){var a=$("#fb_username_ns").val(),o=$("#fb_userpassword_ns").val(),t=$("#fb_repeatpassword_ns").val(),s=$("#fb_email_ns").val(),i=JSON.parse(localStorage.getItem(getfbLoginData_c));a&&o&&t&&s?$.ajax({url:Api.fbuserLoginForMobile_api,type:"POST",data:{access_token:i[0].accessToken,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os,appid:appid,tag:"website"},dataType:"jsonp",beforeSend:function(e){isClick=!1,$(".loading").show(),$(".showad").show()},success:function(i){afterClick(),$(".loading").hide(),$(".showad").hide(),"6004"==i.code?$.ajax({url:Api.userPartnerLogin_api,type:"POST",data:{siteUsername:i.siteUsername,sitecode:i.sitecode,password:i.password,time:i.time,email:i.email,fbname:i.fbname,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os},dataType:"jsonp",jsonp:"callback",success:function(i){"1400"==i.code?(sessionID=i.sessionID,$.ajax({type:"POST",url:Api.userUpgradeAccount_api,data:{username:a,password:o,repassword:t,email:s,SessionID_LP:sessionID,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show(),isClick=!1},success:function(t){$(".loading").hide(),$(".showad").hide(),afterClick(),console.log(t),"1110"===t.code?$.ajax({url:Api.userLogin_api,type:"POST",data:{username:a,password:o,siteCode:"lunplay",t:"1378215459501",ck:"ba9d42a6a82e7cea623fa47bf1acc66f",ismobile:"yes",language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show()},success:function(a){$(".loading").hide(),$(".showad").hide(),"1000"===a.code?(sessionID=a.sessionID,$.ajax({type:"POST",url:Api.userMobileAuth_api,data:{sitecode:siteCode_str,type:a.type,os:os_str,SessionID_LP:a.sessionID,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,packageVersion:""},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show()},success:function(a){$(".loading").hide(),$(".showad").hide(),console.log(a),localStorage.setItem("callbackData",JSON.stringify(a)),e(a),n.prototype._sendPx(a.toGameInfo.passport)}})):alert(a.msg)}}):alert(t.msg)}})):alert(i.msg)}}):alert(i.msg)}}):Check.check_login_username()},_tryUpgradeAccount:function(e){var a=$("#play_username_ns").val(),o=$("#play_userpassword_ns").val(),t=$("#play_repeatpassword_ns").val(),s=$("#play_email_ns").val(),i=(JSON.parse(localStorage.getItem("gameData")),JSON.parse(localStorage.getItem("tryToGameData")));a&&o&&t&&s?$.ajax({type:"POST",url:Api.userFastLogin_api,data:{isFirst:"no",id:i.id,siteCode:i.siteCode,t:i.t,ps:i.ps,imeiNum:generateUUID(),xuhaoNum:generateUUID(),language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show(),isClick=!1},success:function(l){console.log(l),$(".loading").hide(),$(".showad").hide(),afterClick(),"1400"===l.code&&(i={id:l.id,siteCode:l.siteCode,t:l.t,ps:l.ps},console.log(i),sessionID=l.sessionID,localStorage.setItem("tryToGameData",JSON.stringify(i)),$.ajax({type:"POST",url:Api.userUpgradeAccount_api,data:{username:a,password:o,repassword:t,email:s,SessionID_LP:sessionID,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show()},success:function(t){$(".loading").hide(),$(".showad").hide(),console.log(t),"1110"===t.code?(trydata={name:a,type:"player",icon:"icon-94",siteCode:l.siteCode,t:l.t,ps:l.ps,id:l.id,typename:"Player"},tryLoginData=[],tryLoginData.push(trydata),localStorage.setItem(gettryLoginData_c,JSON.stringify(tryLoginData)),$.ajax({url:Api.userLogin_api,type:"POST",data:{username:a,password:o,siteCode:"lunplay",t:"1378215459501",ck:"ba9d42a6a82e7cea623fa47bf1acc66f",ismobile:"yes",language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show()},success:function(a){$(".loading").hide(),$(".showad").hide(),"1000"===a.code?(sessionID=a.sessionID,$.ajax({type:"POST",url:Api.userMobileAuth_api,data:{sitecode:n.prototype.config.siteCode,type:a.type,os:n.prototype.config.os,SessionID_LP:a.sessionID,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,packageVersion:""},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show()},success:function(a){$(".loading").hide(),$(".showad").hide(),console.log(a),localStorage.setItem("callbackData",JSON.stringify(a)),e(a),n.prototype._sendPx(a.toGameInfo.passport)}})):alert(a.msg)}})):alert(t.msg)}}))}}):Check.check_login_username()},_getMakeLogin:function(e){$.ajax({url:"//gc-nrxws.95vy.com/baseFacebook/login.do",type:"POST",data:{fbAppID:appid,redirectUrl:redirect_url,code:ch},dataType:"jsonp",success:function(a){console.log(a),accessToken=a.access_token,"1000"===a.code&&$.ajax({url:"https://graph.facebook.com/v5.0/me?access_token="+a.access_token,type:"GET",data:{},dataType:"json",success:function(o){if(console.log(o),FBID=o.id,FBName=o.name,accessToken=a.access_token,isFbLogin=1,localStorage.setItem("FbLogin",isFbLogin),"1000"===a.code){n.prototype._getLogin(accessToken,e);var t=(new Date).getTime();fbdata={typename:"FackBook",name:FBName,accessToken:accessToken,type:"fb",time:t,icon:"icon-Facebook"},fbLoginData.push(fbdata),localStorage.setItem(getfbLoginData_c,JSON.stringify(fbLoginData)||"[]")}}})}})},_getLogin:function(e,a){$.ajax({url:Api.fbuserLoginForMobile_api,type:"POST",data:{access_token:e,language:n.prototype.language,gameCode:n.prototype.gameCode,packageName:n.prototype.packageName,os:n.prototype.os,appid:appid,tag:"website"},dataType:"jsonp",beforeSend:function(e){isClick=!1,$(".quitLogion").hide(),$(".loading").hide(),$(".showad").hide(),clearTimeout(n.prototype.timer),$(".loading").show(),$(".showad").show()},success:function(e){afterClick(),$(".loading").hide(),$(".showad").hide(),"6004"==e.code?$.ajax({url:Api.userPartnerLogin_api,type:"POST",data:{siteUsername:e.siteUsername,sitecode:e.sitecode,password:e.password,time:e.time,email:e.email,fbname:e.fbname,language:n.prototype.language,gameCode:n.prototype.gameCode,packageName:n.prototype.packageName,os:n.prototype.os},dataType:"jsonp",jsonp:"callback",success:function(e){if("1400"==e.code){sessionID=e.sessionID;var o=JSON.parse(localStorage.getItem("config"));$.ajax({type:"POST",url:Api.userMobileAuth_api,data:{sitecode:o.siteCode,type:e.type,os:o.os,SessionID_LP:e.sessionID,language:o.language,gameCode:o.gameCode,packageName:o.packageName,packageVersion:""},dataType:"jsonp",success:function(e){console.log(e),$(".main").remove(),localStorage.setItem("callbackData",JSON.stringify(e)),a(e),n.prototype._sendPx(e.toGameInfo.passport)}})}else alert(e.msg)},error:function(){}}):alert(e.msg)},error:function(){}})},_automaticLogin:function(e){var a=JSON.parse(localStorage.getItem("fbLoginData")),o=JSON.parse(localStorage.getItem("ptLoginData")),t=JSON.parse(localStorage.getItem("tryLoginData")),s=[].concat(n.prototype._toConsumableArray(o),n.prototype._toConsumableArray(a),n.prototype._toConsumableArray(t));if(s.sort(compare("time")),void 0!=s&&s.length>0){var i=s[s.length-1];$(".title_name").text(i.name),$(".quitLogion").show(),$(".loading").show(),$(".showad").show(),console.log(n.prototype.timer),n.prototype.timer=setTimeout(function(){switch(i.type){case"pt":$.ajax({url:Api.userLogin_api,type:"POST",data:{username:i.name,password:i.password,siteCode:"lunplay",t:"1378215459501",ck:"ba9d42a6a82e7cea623fa47bf1acc66f",ismobile:"yes",language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show()},success:function(a){$(".loading").hide(),$(".showad").hide(),$(".quitLogion").hide(),"1000"===a.code?(sessionID=a.sessionID,$.ajax({type:"POST",url:Api.userMobileAuth_api,data:{sitecode:n.prototype.config.siteCode,type:a.type,os:n.prototype.config.os,SessionID_LP:a.sessionID,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,packageVersion:n.prototype.config.packageVersion},dataType:"jsonp",success:function(a){$(".quitLogion").hide(),$(".loading").hide(),$(".showad").hide(),console.log(a),"1406"===a.code&&(localStorage.setItem("callbackData",JSON.stringify(a)),$(".main").remove(),e(a),n.prototype._sendPx(a.toGameInfo.passport))}})):alert(a.msg)}});break;case"fb":var a=JSON.parse(localStorage.getItem("gameData"));console.log(a),$.ajax({url:Api.fbuserLoginForMobile_api,type:"POST",data:{access_token:i.accessToken,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os,appid:appid,tag:"website"},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show()},success:function(a){$(".loading").hide(),$(".showad").hide(),$(".quitLogion").hide(),"6004"==a.code?$.ajax({url:Api.userPartnerLogin_api,type:"POST",data:{siteUsername:a.siteUsername,sitecode:a.sitecode,password:a.password,time:a.time,email:a.email,fbname:a.fbname,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os},dataType:"jsonp",jsonp:"callback",success:function(a){"1400"==a.code?(sessionID=a.sessionID,$.ajax({type:"POST",url:Api.userMobileAuth_api,data:{sitecode:n.prototype.config.siteCode,type:a.type,os:n.prototype.config.os,SessionID_LP:a.sessionID,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,packageVersion:""},dataType:"jsonp",success:function(a){console.log(a),$(".main").remove(),localStorage.setItem("callbackData",JSON.stringify(a)),e(a),n.prototype._sendPx(a.toGameInfo.passport)}})):alert(a.msg)},error:function(){}}):alert(a.msg)},error:function(){}});break;case"player":$.ajax({type:"POST",url:Api.userFastLogin_api,data:{isFirst:"no",id:i.id,siteCode:i.siteCode,t:i.t,ps:i.ps,imeiNum:generateUUID(),xuhaoNum:generateUUID(),language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,os:n.prototype.config.os},dataType:"jsonp",beforeSend:function(e){$(".loading").show(),$(".showad").show()},success:function(e){console.log(e),$(".loading").hide(),$(".showad").hide(),$(".quitLogion").hide(),"1400"===e.code&&(sessionID=e.sessionID,$.ajax({type:"POST",url:Api.userMobileAuth_api,data:{sitecode:n.prototype.config.siteCode,type:e.type,os:n.prototype.config.os,SessionID_LP:e.sessionID,language:n.prototype.config.language,gameCode:n.prototype.config.gameCode,packageName:n.prototype.config.packageName,packageVersion:n.prototype.config.packageVersion},dataType:"jsonp",success:function(e){console.log(e),sendData=JSON.stringify(e)}}))},error:function(e){console.log(e)}})}},5e3)}},_toConsumableArray:function(e){if(Array.isArray(e)){for(var a=0,n=Array(e.length);a<e.length;a++)n[a]=e[a];return n}return Array.from(e)},_sendPx:function(e){fbq("track","CompleteRegistration"),fbq("trackCustom","CompleteRegistrationNumber",{myParam:e})},_uploadParams:function(e){return new Promise(function(a,n){a(e)})},userLogin:function(e){switch(console.log(language),e){case"TW":$("#enter_game_ns").val(language.TW.lp_platform_login_activity_btn_enter),$(".handle_head_title").text(language.TW.lp_login_activity_text1),$(".handle_icon_facebook").text(language.TW.lp_login_activity_facebook_text),$(".handle_icon_sw").text(language.TW.lp_login_activity_sw_text),$(".handle_icon_pt").text(language.TW.lp_login_activity_pt_text),$("#login_username_ns").attr("placeholder",language.TW.lp_platform_login_account_hint),$("#login_userpassword_ns").attr("placeholder",language.TW.lp_platform_login_activity_login_hint_password),$(".login_button_ns").val(language.TW.lp_platform_login_activity_btn_enter),$(".forget_password_ns span").text(language.TW.lp_platform_login_activity_retrieve_password_txt),$(".click_registered_ns").text(language.TW.lp_platform_login_activity_register),$(".account_management_ns").text(language.TW.lp_platform_login_activity_account_manager),$("#retrieve_username_ns").attr("placeholder",language.TW.lp_retrieve_password_activity_hint_acc),$("#retrieve_email_ns").attr("placeholder",language.TW.lp_retrieve_password_activity_hint_email),$(".retrieve_password_ns").val(language.TW.lp_retrieve_password_activity_retrieve_pwd),$("#registered_username_ns").attr("placeholder",language.TW.lp_register_activity_hint_username),$("#registered_userpassword_ns").attr("placeholder",language.TW.lp_register_activity_hint_password),$("#registered_repeatpassword_ns").attr("placeholder",language.TW.lp_register_activity_hint_reppassword),$("#registered_email_ns").attr("placeholder",language.TW.lp_register_activity_hint_email),$(".registered_button_ns").val(language.TW.lp_register_activity_register_txt),$(".user_agree_rule").text(language.TW.lp_register_activity_agree_rule),$(".toRule").text(language.TW.lp_register_activity_rule_manage),$(".account1_ns").text(language.TW.lp_updatepassword_txt_updatepassword),$(".account2_ns").text(language.TW.lp_account_manage_activity_guest_binding),$(".account3_ns").text(language.TW.lp_account_manage_activity_facebook_binding),$("#changePass_phone_ns").attr("placeholder",language.TW.lp_accountbing_edt_username),$("#changePass_userpassword_ns").attr("placeholder",language.TW.lp_updatepassword_txt_oldpassword),$("#changePass_newpassword_ns").attr("placeholder",language.TW.lp_updatepassword_txt_newpassword),$("#changePass_repeatpassword_ns").attr("placeholder",language.TW.lp_updatepassword_txt_reppassword),$(".changePass_button_ns").val(language.TW.lp_updatepassword_btn_updatepassword),$("#play_username_ns").attr("placeholder",language.TW.lp_accountbing_edt_username),$("#play_userpassword_ns").attr("placeholder",language.TW.lp_accountbing_edt_password),$("#play_repeatpassword_ns").attr("placeholder",language.TW.lp_accountbing_edt_reppassword),$("#play_email_ns").attr("placeholder",language.TW.lp_account_binding_activity_email_hint),$(".play_button_ns").val(language.TW.lp_accountbing_btn_accountbing),$("#fb_username_ns").attr("placeholder",language.TW.lp_accountbing_edt_username),$("#fb_userpassword_ns").attr("placeholder",language.TW.lp_accountbing_edt_password),$("#fb_repeatpassword_ns").attr("placeholder",language.TW.lp_accountbing_edt_reppassword),$("#fb_email_ns").attr("placeholder",language.TW.lp_account_binding_activity_email_hint),$(".fb_button_ns").val(language.TW.lp_accountbing_btn_accountbing),$(".title_loding").text(language.TW.lp_sdk_login_activity_tips_msg),$(".quit_btn").text(language.TW.lp_sdk_login_activity_tips_switch_msg);break;case"KR":$("#enter_game_ns").val(language.KR.lp_platform_login_activity_btn_enter),$(".handle_head_title").text(language.KR.lp_login_activity_text1),$(".handle_icon_facebook").text(language.KR.lp_login_activity_facebook_text),$(".handle_icon_sw").text(language.KR.lp_login_activity_sw_text),$(".handle_icon_pt").text(language.KR.lp_login_activity_pt_text),$("#login_username_ns").attr("placeholder",language.KR.lp_platform_login_account_hint),$("#login_userpassword_ns").attr("placeholder",language.KR.lp_platform_login_activity_login_hint_password),$(".login_button_ns").val(language.KR.lp_platform_login_activity_btn_enter),$(".forget_password_ns span").text(language.KR.lp_platform_login_activity_retrieve_password_txt),$(".click_registered_ns").text(language.KR.lp_platform_login_activity_register),$(".account_management_ns").text(language.KR.lp_platform_login_activity_account_manager),$("#retrieve_username_ns").attr("placeholder",language.KR.lp_retrieve_password_activity_hint_acc),$("#retrieve_email_ns").attr("placeholder",language.KR.lp_retrieve_password_activity_hint_email),$(".retrieve_password_ns").val(language.KR.lp_retrieve_password_activity_retrieve_pwd),$("#registered_username_ns").attr("placeholder",language.KR.lp_register_activity_hint_username),$("#registered_userpassword_ns").attr("placeholder",language.KR.lp_register_activity_hint_password),$("#registered_repeatpassword_ns").attr("placeholder",language.KR.lp_register_activity_hint_reppassword),$("#registered_email_ns").attr("placeholder",language.KR.lp_register_activity_hint_email),$(".registered_button_ns").val(language.KR.lp_register_activity_register_txt),$(".user_agree_rule").text(language.KR.lp_register_activity_agree_rule),$(".toRule").text(language.KR.lp_register_activity_rule_manage),$(".account1_ns").text(language.KR.lp_updatepassword_txt_updatepassword),$(".account2_ns").text(language.KR.lp_account_manage_activity_guest_binding),$(".account3_ns").text(language.KR.lp_account_manage_activity_facebook_binding),$("#changePass_phone_ns").attr("placeholder",language.KR.lp_accountbing_edt_username),$("#changePass_userpassword_ns").attr("placeholder",language.KR.lp_updatepassword_txt_oldpassword),$("#changePass_newpassword_ns").attr("placeholder",language.KR.lp_updatepassword_txt_newpassword),$("#changePass_repeatpassword_ns").attr("placeholder",language.KR.lp_updatepassword_txt_reppassword),$(".changePass_button_ns").val(language.KR.lp_updatepassword_btn_updatepassword),$("#play_username_ns").attr("placeholder",language.KR.lp_accountbing_edt_username),$("#play_userpassword_ns").attr("placeholder",language.KR.lp_accountbing_edt_password),$("#play_repeatpassword_ns").attr("placeholder",language.KR.lp_accountbing_edt_reppassword),$("#play_email_ns").attr("placeholder",language.KR.lp_account_binding_activity_email_hint),$(".play_button_ns").val(language.KR.lp_accountbing_btn_accountbing),$("#fb_username_ns").attr("placeholder",language.KR.lp_accountbing_edt_username),$("#fb_userpassword_ns").attr("placeholder",language.KR.lp_accountbing_edt_password),$("#fb_repeatpassword_ns").attr("placeholder",language.KR.lp_accountbing_edt_reppassword),$("#fb_email_ns").attr("placeholder",language.KR.lp_account_binding_activity_email_hint),$(".fb_button_ns").val(language.KR.lp_accountbing_btn_accountbing),$(".title_loding").text(language.KR.lp_sdk_login_activity_tips_msg),$(".quit_btn").text(language.KR.lp_sdk_login_activity_tips_switch_msg);break;case"English":$("#enter_game_ns").val(language.English.lp_platform_login_activity_btn_enter),$(".handle_head_title").text(language.English.lp_login_activity_text1),$(".handle_icon_facebook").text(language.English.lp_login_activity_facebook_text),$(".handle_icon_sw").text(language.English.lp_login_activity_sw_text),$(".handle_icon_pt").text(language.English.lp_login_activity_pt_text),$("#login_username_ns").attr("placeholder",language.English.lp_platform_login_account_hint),$("#login_userpassword_ns").attr("placeholder",language.English.lp_platform_login_activity_login_hint_password),$(".login_button_ns").val(language.English.lp_platform_login_activity_btn_enter),$(".forget_password_ns span").text(language.English.lp_platform_login_activity_retrieve_password_txt),$(".click_registered_ns").text(language.English.lp_platform_login_activity_register),$(".account_management_ns").text(language.English.lp_platform_login_activity_account_manager),$("#retrieve_username_ns").attr("placeholder",language.English.lp_retrieve_password_activity_hint_acc),$("#retrieve_email_ns").attr("placeholder",language.English.lp_retrieve_password_activity_hint_email),$(".retrieve_password_ns").val(language.English.lp_retrieve_password_activity_retrieve_pwd),$("#registered_username_ns").attr("placeholder",language.English.lp_register_activity_hint_username),$("#registered_userpassword_ns").attr("placeholder",language.English.lp_register_activity_hint_password),$("#registered_repeatpassword_ns").attr("placeholder",language.English.lp_register_activity_hint_reppassword),$("#registered_email_ns").attr("placeholder",language.English.lp_register_activity_hint_email),$(".registered_button_ns").val(language.English.lp_register_activity_register_txt),$(".user_agree_rule").text(language.English.lp_register_activity_agree_rule),$(".toRule").text(language.English.lp_register_activity_rule_manage),$(".account1_ns").text(language.English.lp_updatepassword_txt_updatepassword),$(".account2_ns").text(language.English.lp_account_manage_activity_guest_binding),$(".account3_ns").text(language.English.lp_account_manage_activity_facebook_binding),$("#changePass_phone_ns").attr("placeholder",language.English.lp_accountbing_edt_username),$("#changePass_userpassword_ns").attr("placeholder",language.English.lp_updatepassword_txt_oldpassword),$("#changePass_newpassword_ns").attr("placeholder",language.English.lp_updatepassword_txt_newpassword),$("#changePass_repeatpassword_ns").attr("placeholder",language.English.lp_updatepassword_txt_reppassword),$(".changePass_button_ns").val(language.English.lp_updatepassword_btn_updatepassword),$("#play_username_ns").attr("placeholder",language.English.lp_accountbing_edt_username),$("#play_userpassword_ns").attr("placeholder",language.English.lp_accountbing_edt_password),$("#play_repeatpassword_ns").attr("placeholder",language.English.lp_accountbing_edt_reppassword),$("#play_email_ns").attr("placeholder",language.English.lp_account_binding_activity_email_hint),$(".play_button_ns").val(language.English.lp_accountbing_btn_accountbing),$("#fb_username_ns").attr("placeholder",language.English.lp_accountbing_edt_username),$("#fb_userpassword_ns").attr("placeholder",language.English.lp_accountbing_edt_password),$("#fb_repeatpassword_ns").attr("placeholder",language.English.lp_accountbing_edt_reppassword),$("#fb_email_ns").attr("placeholder",language.English.lp_account_binding_activity_email_hint),$(".fb_button_ns").val(language.English.lp_accountbing_btn_accountbing),$(".title_loding").text(language.English.lp_sdk_login_activity_tips_msg),$(".quit_btn").text(language.English.lp_sdk_login_activity_tips_switch_msg);break;default:$("#enter_game_ns").val(language.TW.lp_platform_login_activity_btn_enter),$(".handle_head_title").text(language.TW.lp_login_activity_text1),$(".handle_icon_facebook").text(language.TW.lp_login_activity_facebook_text),$(".handle_icon_sw").text(language.TW.lp_login_activity_sw_text),$(".handle_icon_pt").text(language.TW.lp_login_activity_pt_text),$("#login_username_ns").attr("placeholder",language.TW.lp_platform_login_account_hint),$("#login_userpassword_ns").attr("placeholder",language.TW.lp_platform_login_activity_login_hint_password),$(".login_button_ns").val(language.TW.lp_platform_login_activity_btn_enter),$(".forget_password_ns span").text(language.TW.lp_platform_login_activity_retrieve_password_txt),$(".click_registered_ns").text(language.TW.lp_platform_login_activity_register),$(".account_management_ns").text(language.TW.lp_platform_login_activity_account_manager),$("#retrieve_username_ns").attr("placeholder",language.TW.lp_retrieve_password_activity_hint_acc),$("#retrieve_email_ns").attr("placeholder",language.TW.lp_retrieve_password_activity_hint_email),$(".retrieve_password_ns").val(language.TW.lp_retrieve_password_activity_retrieve_pwd),$("#registered_username_ns").attr("placeholder",language.TW.lp_register_activity_hint_username),$("#registered_userpassword_ns").attr("placeholder",language.TW.lp_register_activity_hint_password),$("#registered_repeatpassword_ns").attr("placeholder",language.TW.lp_register_activity_hint_reppassword),$("#registered_email_ns").attr("placeholder",language.TW.lp_register_activity_hint_email),$(".registered_button_ns").val(language.TW.lp_register_activity_register_txt),$(".user_agree_rule").text(language.TW.lp_register_activity_agree_rule),$(".toRule").text(language.TW.lp_register_activity_rule_manage),$(".account1_ns").text(language.TW.lp_updatepassword_txt_updatepassword),$(".account2_ns").text(language.TW.lp_account_manage_activity_guest_binding),$(".account3_ns").text(language.TW.lp_account_manage_activity_facebook_binding),$("#changePass_phone_ns").attr("placeholder",language.TW.lp_accountbing_edt_username),$("#changePass_userpassword_ns").attr("placeholder",language.TW.lp_updatepassword_txt_oldpassword),$("#changePass_newpassword_ns").attr("placeholder",language.TW.lp_updatepassword_txt_newpassword),$("#changePass_repeatpassword_ns").attr("placeholder",language.TW.lp_updatepassword_txt_reppassword),$(".changePass_button_ns").val(language.TW.lp_updatepassword_btn_updatepassword),$("#play_username_ns").attr("placeholder",language.TW.lp_accountbing_edt_username),$("#play_userpassword_ns").attr("placeholder",language.TW.lp_accountbing_edt_password),$("#play_repeatpassword_ns").attr("placeholder",language.TW.lp_accountbing_edt_reppassword),$("#play_email_ns").attr("placeholder",language.TW.lp_account_binding_activity_email_hint),$(".play_button_ns").val(language.TW.lp_accountbing_btn_accountbing),$("#fb_username_ns").attr("placeholder",language.TW.lp_accountbing_edt_username),$("#fb_userpassword_ns").attr("placeholder",language.TW.lp_accountbing_edt_password),$("#fb_repeatpassword_ns").attr("placeholder",language.TW.lp_accountbing_edt_reppassword),$("#fb_email_ns").attr("placeholder",language.TW.lp_account_binding_activity_email_hint),$(".fb_button_ns").val(language.TW.lp_accountbing_btn_accountbing),$(".title_loding").text(language.TW.lp_sdk_login_activity_tips_msg),$(".quit_btn").text(language.TW.lp_sdk_login_activity_tips_switch_msg)}},GetQueryString:function(a,n){n||(n=e.location.href),a=a.replace(/[\[\]]/g,"\\&$");var o=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),t=o.exec(n);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}},Object.freeze(n),e.Login=n}(window,document);